<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhargav & Srija | The Storybook</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@900,700,500,300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Great+Vibes&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #050505;
            --gold: #FFD700;
            --book-width: 85vw;
            --book-height: 65vh;
        }
        
        body {
            background-color: var(--bg);
            color: #fff;
            font-family: 'Satoshi', sans-serif;
            overflow-x: hidden;
            margin: 0;
        }

        /* Typography */
        .font-cinzel { font-family: 'Cinzel', serif; }
        .font-vibes { font-family: 'Great Vibes', cursive; }
        
        .gold-text {
            background: linear-gradient(to bottom, #FFD700, #FDB931);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5));
        }

        /* === 3D SCENE SETUP === */
        .scene {
            height: 100vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 2000px; /* High perspective for realistic depth */
            overflow: hidden;
        }

        /* The Book Container */
        .book {
            width: var(--book-width);
            height: var(--book-height);
            max-width: 450px;
            max-height: 650px;
            position: relative;
            transform-style: preserve-3d; /* Crucial for 3D children */
        }

        /* === SHARED PAGE STYLES === */
        .page {
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px 20px 20px 10px; /* Rounded right edge like paper */
            transform-origin: left center; /* Pivot on Spine */
            backface-visibility: hidden; /* Hide back when flipped */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            will-change: transform;
            box-shadow: inset 10px 0 20px rgba(0,0,0,0.2), 5px 5px 15px rgba(0,0,0,0.3);
        }

        /* === THE COVER (Leather Texture) === */
        .front-cover {
            background: linear-gradient(135deg, #2a0a10 0%, #590d22 100%);
            z-index: 50;
            border-left: 5px solid #2a0a10; /* Spine Binding */
            border: 2px solid #800f2f;
        }
        .front-cover::after {
            content: '';
            position: absolute;
            top: 10px; bottom: 10px; left: 10px; right: 10px;
            border: 2px solid var(--gold);
            border-radius: 5px 15px 15px 5px;
            opacity: 0.5;
        }

        /* === INSIDE PAGES (Paper Texture) === */
        .paper-page {
            background-color: #1a1a1a; /* Dark Mode Paper */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            border-left: 2px solid rgba(255,255,255,0.1);
        }

        /* === BACK COVER (Inside) === */
        .back-cover {
            background: linear-gradient(135deg, #1a0505 0%, #2a0a10 100%);
            z-index: 0;
            transform: rotateY(0deg); /* Always flat */
        }

        /* Emoji Styling */
        .emoji-icon { font-size: 80px; margin-bottom: 1.5rem; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); }

        /* Smooth Scroll */
        html.lenis { width: auto; height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto !important; }
    </style>
</head>
<body class="antialiased">

    <section class="h-screen w-full flex flex-col items-center justify-center bg-black relative" id="hero">
        <div class="absolute inset-0 z-0 opacity-40">
            <div class="absolute w-[500px] h-[500px] bg-purple-900/40 rounded-full blur-[100px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-pulse"></div>
        </div>

        <div class="z-10 text-center space-y-6">
            <p class="text-xs uppercase tracking-[0.4em] text-gray-400">The Eternal Union of</p>
            <h1 class="text-6xl md:text-8xl font-black font-cinzel text-white">
                BHARGAV<br>
                <span class="font-vibes text-gold text-7xl md:text-9xl block mt-2">&</span>
                SRIJA
            </h1>
        </div>
        <div class="absolute bottom-12 animate-bounce text-gray-500 text-xs tracking-widest">
            SCROLL TO OPEN BOOK
        </div>
    </section>

    <section class="scene bg-black" id="book-scene">
        <div class="book">
            
            <div class="page back-cover flex flex-col justify-center items-center">
                <p class="font-vibes text-3xl text-gray-400 mb-4">The Final Chapter</p>
                <h1 class="font-cinzel text-3xl md:text-5xl text-white mb-8 leading-tight">
                    Will You Be My<br><span class="text-gold">Valentine?</span>
                </h1>
                <button onclick="marryMe()" class="bg-gradient-to-r from-pink-600 to-rose-600 text-white font-bold py-4 px-8 rounded-full shadow-[0_0_30px_rgba(255,0,85,0.4)] hover:scale-105 transition-transform">
                    YES, FOREVER! ‚ù§Ô∏è
                </button>
            </div>

            <div class="page paper-page" style="z-index: 10;">
                <div class="emoji-icon">üíã</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Kiss Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">The seal of our forever. A promise that I am yours, until my last breath.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 7</p>
            </div>

            <div class="page paper-page" style="z-index: 11;">
                <div class="emoji-icon">ü§ó</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Hug Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">Your arms are my home. Nowhere else in the world feels as safe as this.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 6</p>
            </div>

            <div class="page paper-page" style="z-index: 12;">
                <div class="emoji-icon">ü§ù</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Promise Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">I promise to stand by you, to fight for us, and to love you endlessly.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 5</p>
            </div>

            <div class="page paper-page" style="z-index: 13;">
                <div class="emoji-icon">üß∏</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Teddy Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">I promise to be your comfort, your soft place to land when the world is hard.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 4</p>
            </div>

            <div class="page paper-page" style="z-index: 14;">
                <div class="emoji-icon">üç´</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Chocolate Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">Life was bitter with distance, but you added the sweetness I was missing.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 3</p>
            </div>

            <div class="page paper-page" style="z-index: 15;">
                <div class="emoji-icon">üíç</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Propose Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">My heart whispered "Yes" to you long before my lips ever asked the question.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 2</p>
            </div>

            <div class="page paper-page" style="z-index: 16;">
                <div class="emoji-icon">üåπ</div>
                <h3 class="font-cinzel text-3xl text-white mb-2">Rose Day</h3>
                <p class="text-gray-300 text-sm md:text-base px-2">Red for love, vibrant for life. I picked you out of the garden of the world.</p>
                <p class="mt-8 text-xs text-gray-500 font-vibes">Day 1</p>
            </div>

            <div class="page front-cover" style="z-index: 20;">
                <div class="border-2 border-gold/30 h-full w-full rounded-[15px] flex flex-col justify-center items-center p-4">
                    <div class="text-5xl mb-4 opacity-80">üìñ</div>
                    <h1 class="font-cinzel text-4xl text-gold mb-2">Our Story</h1>
                    <p class="text-xs uppercase tracking-widest text-gray-300">Volume I</p>
                    <div class="mt-12 w-16 h-[1px] bg-white/30"></div>
                    <p class="mt-4 font-vibes text-xl text-white/60">Bhargav & Srija</p>
                </div>
            </div>

        </div>
    </section>

    <div id="success-overlay" class="fixed inset-0 bg-black z-50 flex flex-col items-center justify-center opacity-0 pointer-events-none transition-opacity duration-1000">
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"></div>
        <h1 class="font-vibes text-7xl text-gold mb-4 animate-bounce">She Said Yes!</h1>
        <p class="font-cinzel text-white text-xl">See you at the Mandap.</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        // 1. SMOOTH SCROLL
        const lenis = new Lenis();
        function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
        requestAnimationFrame(raf);

        // 2. BOOK ANIMATION
        gsap.registerPlugin(ScrollTrigger);

        // We want to pin the book section while users scroll "through" the book
        const bookTimeline = gsap.timeline({
            scrollTrigger: {
                trigger: "#book-scene",
                start: "top top",
                end: "+=4000", // Length of the scroll (longer = slower page turns)
                pin: true,
                scrub: 1,
                anticipatePin: 1
            }
        });

        // A. Open Front Cover
        bookTimeline.to(".front-cover", {
            rotationY: -160, // Open way to the left
            duration: 2,
            ease: "power2.inOut",
            transformOrigin: "left center"
        });

        // B. Flip Pages (Select all .paper-page)
        // Since HTML order is 7->1, we need to select them in reverse Z-index order to flip Top first
        // Actually, in CSS I stacked them: Cover (20), Page 1 (16)... Page 7 (10).
        // So I need to flip Page 1, then Page 2...
        const pages = gsap.utils.toArray(".paper-page");
        
        // The array 'pages' will imply document order: 7, 6, 5, 4, 3, 2, 1.
        // We want to animate 1 first. So we reverse the array.
        const pagesOrdered = pages.reverse(); 

        pagesOrdered.forEach((page, i) => {
            bookTimeline.to(page, {
                rotationY: -150, // Flip to left
                duration: 2,
                ease: "power2.inOut",
                transformOrigin: "left center",
                // Stagger slightly so they don't all move exactly at once, but sequence
            }, ">-1.5"); // Start 1.5s before previous finishes (overlap)
        });

        // 3. INTERACTION
        function marryMe() {
            // Confetti
            const duration = 3000;
            const end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#FFD700', '#FF0055'] });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#FFD700', '#FF0055'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());

            // Show Success
            const overlay = document.getElementById('success-overlay');
            overlay.style.pointerEvents = "all";
            overlay.style.opacity = "1";
        }
    </script>
</body>
</html>
